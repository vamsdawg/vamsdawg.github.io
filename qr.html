<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>QR Code</title>
  <meta name="description" content="Wedding website for Namratha & Vamsi" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="assets/css/style.css" />
</head>
<body>
<header class="nav">
  <div class="container nav__inner">
    <a class="brand" href="index.html">N &amp; V</a>
    <nav class="nav__links" id="navLinks">
      <a href="index.html">Home</a>
      <a href="events.html">Events</a>
      <a href="rsvp.html" class="btn">RSVP</a>
      <a href="registry.html">Registry</a>
      <a href="qr.html" title="QR code for invites">QR</a>
    </nav>
    <button class="nav__toggle" id="navToggle" aria-label="Toggle navigation">☰</button>
  </div>
</header>
<main>

<section class="container">
  <h1>QR Code</h1>
  <p>Scan to visit the wedding website. Update <code>SITE_URL</code> in <strong>assets/js/main.js</strong> to your custom domain (e.g., <em>https://namrathaandvamsi.com</em>), then re-open this page.</p>

  <div class="card center">
    <canvas id="qrCanvas" width="320" height="320" aria-label="QR code"></canvas>
    <p class="muted small">Right-click the QR and “Save image as...” to download for printing.</p>
    <div class="cta-group">
      <a class="btn" id="downloadPng" download="wedding-qr.png">Download PNG</a>
    </div>
  </div>
</section>

<!-- Lightweight QR generator via CDN (canvas output) -->
<script src="https://cdn.jsdelivr.net/npm/qrious@4.0.2/dist/qrious.min.js"></script>
<script>
  (function () {
    const canvas = document.getElementById('qrCanvas');
    if (!canvas || !window.QRious) return;
    const qrious = new QRious({
      element: canvas,
      value: window.SITE_URL || window.location.origin + (window.location.pathname.replace(/\/[^/]*$/, '/index.html')),
      size: 320,
      level: 'H' // high error correction for print
    });
    // Download button
    const link = document.getElementById('downloadPng');
    if (link) {
      link.addEventListener('click', function (e) {
        this.href = canvas.toDataURL('image/png');
      });
    }
  })();
</script>

</main>
<footer class="footer">
  <div class="container footer__inner">
    <p>© <span id="year"></span> Namratha &amp; Vamsi</p>
    <p class="muted"><a href="qr.html">Get the QR code</a> • <a href="rsvp.html">RSVP</a></p>
  </div>
</footer>
<script src="assets/js/main.js"></script>
</body>
</html>
